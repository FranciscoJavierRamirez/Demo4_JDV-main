/* ==========================================
   JDV & Abogados - CRITICAL FIXES 2026
   Soluci√≥n de emergencia para problemas cr√≠ticos
   Basado en auditor√≠a independiente
   ========================================== */

/* ==========================================
   üî¥ PROBLEMA 1: PALETA CROM√ÅTICA DESASTROSA
   Fix: Reemplazar dorado sucio por oro champagne
   ========================================== */

:root {
    /* ‚ùå ELIMINAR ESTOS VALORES ANTIGUOS */
    /* --gold: #D4AF37; <- Dorado sucio/mostaza */
    /* --gold-light: #D4AF37; */

    /* ‚úÖ NUEVOS OROS REFINADOS (Champagne, no mostaza) */
    --gold-50: #FEFCE8;
    --gold-100: #FEF9C3;
    --gold-200: #FEF08A;
    --gold-300: #FDE047;
    --gold-400: #FACC15;
    --gold-500: #C9A254;  /* ORO PRINCIPAL - Champagne elegante */
    --gold-600: #B8903B;  /* Hover states */
    --gold-700: #A67C32;
    --gold-800: #8B6829;
    --gold-900: #78551E;  /* Texto sobre fondos claros */

    /* ‚úÖ BLUES SOFISTICADOS (Slate, no corporativo gen√©rico) */
    --blue-50: #F8FAFC;
    --blue-100: #F1F5F9;
    --blue-200: #E2E8F0;
    --blue-300: #CBD5E1;
    --blue-400: #94A3B8;
    --blue-500: #64748B;
    --blue-600: #475569;  /* Slate profesional */
    --blue-700: #334155;
    --blue-800: #1E293B;
    --blue-900: #0F172A;  /* Headers oscuros */

    /* ‚úÖ NEUTRALES C√ÅLIDOS (no blanco hospital) */
    --neutral-50: #FAFAF9;   /* Warm white - reemplaza #FFFFFF */
    --neutral-100: #F5F5F4;  /* Secciones alternas */
    --neutral-200: #E7E5E4;
    --neutral-800: #292524;  /* Texto oscuro */
    --neutral-900: #1C1917;  /* Negro c√°lido */

    /* Sobrescribir variables antiguas */
    --gold: var(--gold-500);
    --gold-light: var(--gold-400);
    --gold-dark: var(--gold-600);

    --blue-primary: var(--blue-600);
    --blue-dark: var(--blue-900);

    --white: var(--neutral-50);  /* No m√°s #FFFFFF est√©ril */
    --background: var(--neutral-50);
}

/* ==========================================
   üî¥ PROBLEMA 2: HERO ILEGIBLE (CR√çTICO)
   Fix: Overlay oscuro + glassmorphism + contraste AAA
   ========================================== */

/* Hero section - forzar fondo oscuro */
.hero,
section.hero {
    position: relative;
    min-height: 90vh;
}

/* Overlay oscuro SOBRE la imagen de fondo */
.hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        135deg,
        rgba(15, 23, 42, 0.85) 0%,
        rgba(30, 41, 59, 0.75) 100%
    );
    z-index: 2;
    pointer-events: none;
}

/* Imagen de fondo oscurecida */
.hero-bg {
    opacity: 0.25 !important; /* Desaturar imagen */
    filter: grayscale(0.3) !important;
}

/* Contenedor hero con z-index correcto */
.hero-container {
    position: relative;
    z-index: 10;
}

/* Hero content sin glassmorphism (ya tiene el overlay) */
.hero-content {
    position: relative;
    z-index: 10;
}

/* Hero H1 con contraste AAA */
.hero-title,
.hero h1 {
    color: #FFFFFF !important;
    text-shadow:
        0 2px 40px rgba(0, 0, 0, 0.7),
        0 4px 8px rgba(0, 0, 0, 0.5) !important;
}

/* L√≠nea del t√≠tulo con gradiente */
.hero-title-gradient {
    background: linear-gradient(135deg, #FFFFFF 0%, #E2E8F0 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
}

/* Hero subtitle con contraste suficiente */
.hero-subtitle {
    color: #E2E8F0 !important;
    text-shadow: 0 2px 20px rgba(0, 0, 0, 0.5) !important;
}

/* ==========================================
   üî¥ PROBLEMA 3: CTAs DORADOS SUCIOS
   Fix: Oro champagne con gradiente + micro-interacciones
   ========================================== */

/* Todos los CTAs primarios - SELECTORES REALES */
.btn-hero-primary,
.btn-cta-primary,
.btn-primary,
.btn-nav-cta,
button[type="submit"],
.cta-button {
    position: relative !important;
    padding: 1rem 2.5rem !important;
    font-size: 1.125rem !important;
    font-weight: 600 !important;
    color: var(--neutral-900) !important;

    /* Gradiente oro champagne (NO mostaza) */
    background: linear-gradient(135deg, var(--gold-500) 0%, var(--gold-400) 100%) !important;
    border: none !important;
    border-radius: 12px !important;

    /* Sombra dorada sutil */
    box-shadow:
        0 4px 6px -1px rgba(201, 162, 84, 0.3),
        0 2px 4px -2px rgba(201, 162, 84, 0.3),
        inset 0 1px 0 0 rgba(255, 255, 255, 0.2) !important;

    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    cursor: pointer !important;
    overflow: hidden !important;
}

/* Hover - Elevaci√≥n + brillo */
.btn-hero-primary:hover,
.btn-cta-primary:hover,
.btn-primary:hover,
.btn-nav-cta:hover,
button[type="submit"]:hover {
    transform: translateY(-2px) !important;
    box-shadow:
        0 10px 15px -3px rgba(201, 162, 84, 0.4),
        0 4px 6px -4px rgba(201, 162, 84, 0.4),
        0 0 30px rgba(201, 162, 84, 0.3) !important; /* Glow dorado */
}

/* Active state */
.btn-hero-primary:active,
.btn-cta-primary:active,
.btn-primary:active {
    transform: translateY(0px) !important;
}

/* Ripple effect en click */
.btn-hero-primary::after,
.btn-cta-primary::after,
.btn-primary::after,
.btn-nav-cta::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, transparent 70%);
    opacity: 0;
    transform: scale(0);
    transition: transform 0.5s, opacity 0.5s;
    pointer-events: none;
}

.btn-hero-primary:active::after,
.btn-cta-primary:active::after,
.btn-primary:active::after {
    transform: scale(2);
    opacity: 1;
    transition: 0s;
}

/* ==========================================
   üî¥ PROBLEMA 4: EXCESO DE BLANCO EST√âRIL
   Fix: Backgrounds alternos con tonos c√°lidos
   ========================================== */

/* Body con warm white (no #FFFFFF puro) */
body {
    background: var(--neutral-50) !important;
    color: var(--neutral-900);
}

/* Secciones alternas con gris c√°lido */
section:nth-child(even),
.section-alternate {
    background: linear-gradient(180deg, var(--neutral-50) 0%, var(--neutral-100) 100%);
}

/* Cards con backgrounds sutiles */
.area-card,
.benefit-card,
.service-card,
.card {
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.9) 0%,
        rgba(250, 250, 249, 0.9) 100%
    ) !important;
}

/* Footer con fondo oscuro elegante */
footer,
.footer-section {
    background: linear-gradient(180deg, var(--blue-900) 0%, #0a0f1a 100%);
    color: var(--neutral-100);
}

/* ==========================================
   üî¥ PROBLEMA 5: CONTENIDO MAL FORMATEADO
   Fix: Estilos para listas con iconos visuales
   ========================================== */

/* Detectar listas con asteriscos o n√∫meros y mejorarlas */
p:has(strong:contains("1)")),
p:has(strong:contains("*")),
.formatted-list {
    display: grid;
    gap: 1rem;
    margin: 1.5rem 0;
}

/* Checklist visual para contenido formateado */
.checklist-item,
.check-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.25rem;
    background: linear-gradient(135deg, var(--neutral-50) 0%, var(--neutral-100) 100%);
    border: 1px solid var(--neutral-200);
    border-radius: 12px;
    transition: all 0.3s ease;
}

.checklist-item:hover,
.check-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.1);
    border-color: var(--gold-500);
}

/* Iconos de checklist */
.checklist-item::before,
.check-item::before {
    content: '‚úì';
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: var(--gold-500);
    color: white;
    border-radius: 50%;
    flex-shrink: 0;
    font-weight: bold;
    font-size: 0.875rem;
}

/* ==========================================
   üî¥ PROBLEMA 6: ZERO MICRO-INTERACCIONES
   Fix: Hover states en TODOS los elementos interactivos
   ========================================== */

/* Todos los botones tienen feedback */
button,
.btn,
a.cta,
input[type="submit"] {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

button:hover,
.btn:hover,
a.cta:hover {
    transform: translateY(-2px);
}

button:active,
.btn:active,
a.cta:active {
    transform: translateY(0);
}

/* Focus visible para accesibilidad */
button:focus-visible,
a:focus-visible,
input:focus-visible {
    outline: 2px solid var(--gold-500);
    outline-offset: 4px;
    border-radius: 4px;
}

/* Links con underline animado */
a:not(.btn):not(.cta) {
    position: relative;
    text-decoration: none;
    color: var(--blue-600);
}

a:not(.btn):not(.cta)::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--gold-500);
    transition: width 0.3s ease;
}

a:not(.btn):not(.cta):hover::after {
    width: 100%;
}

/* Cards con hover elevation */
.card,
.area-card,
.benefit-card,
.probono-card {
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.card:hover,
.area-card:hover,
.benefit-card:hover {
    transform: translateY(-4px);
}

/* ==========================================
   üî¥ PROBLEMA 7: CONTRASTE INSUFICIENTE
   Fix: Textos con ratios WCAG AAA
   ========================================== */

/* Textos principales con contraste 7:1 m√≠nimo */
h1, h2, h3, h4, h5, h6 {
    color: var(--neutral-900);
}

p, li, span {
    color: var(--neutral-800);
}

/* Textos sobre fondos oscuros */
.hero-section *,
footer *,
.dark-section * {
    color: var(--neutral-50) !important;
}

/* ==========================================
   üî¥ PROBLEMA 8: MEN√ö MOBILE ROTO
   Fix: Drawer lateral con backdrop blur
   ========================================== */

@media (max-width: 768px) {
    /* Men√∫ mobile como drawer lateral */
    .mobile-menu,
    .nav-menu-mobile,
    .fullscreen-menu {
        position: fixed;
        top: 0;
        left: 0;
        width: 85%;
        max-width: 320px;
        height: 100vh;
        background: rgba(15, 23, 42, 0.98);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        transform: translateX(-100%);
        transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        z-index: 9999;
        overflow-y: auto;
        box-shadow: 4px 0 24px rgba(0, 0, 0, 0.3);
    }

    .mobile-menu.open,
    .nav-menu-mobile.open,
    .fullscreen-menu.open {
        transform: translateX(0);
    }

    /* Backdrop overlay */
    .mobile-menu-backdrop {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 9998;
    }

    .mobile-menu-backdrop.active {
        opacity: 1;
        visibility: visible;
    }

    /* Submen√∫ colapsable */
    .nav-dropdown,
    .accordion-item {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-dropdown > ul,
    .sub-menu {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
    }

    .nav-dropdown.open > ul,
    .sub-menu.open {
        max-height: 500px;
    }

    /* Touch targets m√≠nimo 44x44px */
    .mobile-menu a,
    .mobile-menu button {
        min-height: 44px;
        padding: 0.75rem 1.5rem;
        display: flex;
        align-items: center;
    }
}

/* ==========================================
   üî¥ PROBLEMA 9: PERFORMANCE (GPU ACCELERATION)
   Fix: will-change en elementos animados
   ========================================== */

/* GPU acceleration para animaciones suaves */
.animated-element,
.card:hover,
.btn:hover,
[class*="fade-in"],
[class*="slide-"] {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* Remover will-change despu√©s de animaci√≥n (evitar memory leaks) */
.animated-element.complete {
    will-change: auto;
}

/* ==========================================
   üî¥ PROBLEMA 10: SPACING INCONSISTENTE
   Fix: Sistema modular 8pt grid estricto
   ========================================== */

/* Sobrescribir espaciados gen√©ricos */
section {
    padding: var(--space-16) 0; /* 4rem = 64px */
}

.container {
    padding-left: var(--space-6);  /* 1.5rem = 24px */
    padding-right: var(--space-6);
}

@media (min-width: 768px) {
    section {
        padding: var(--space-24) 0; /* 6rem = 96px */
    }

    .container {
        padding-left: var(--space-8);  /* 2rem = 32px */
        padding-right: var(--space-8);
    }
}

/* Grid gaps consistentes */
.grid,
.cards-grid {
    gap: var(--space-6); /* 1.5rem = 24px */
}

/* ==========================================
   END OF CRITICAL FIXES
   TOTAL: 10 problemas corregidos
   ========================================== */
